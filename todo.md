
# Project TODO

- [x] Basic homepage layout with all sections
- [x] Navigation menu (Navbar)
- [x] Hero Section with background image
- [x] About Section (Sobre o P.A.G.O.)
- [x] Pillars Section (Os 4 Pilares)
- [x] Jefferson Section (Sobre o Fundador)
- [x] Kit Mentoria Section
- [x] CTA Section (Formulário de Inscrição)
- [x] FAQ Section
- [x] Footer
- [x] Docs folder with Ebook and Technical Recommendations
- [x] GitHub integration
- [x] Resolve Home.tsx conflict after web-db-user upgrade
- [x] Create database schema for mentoria inscriptions
- [x] Create database schema for file storage metadata
- [x] Run pnpm db:push to sync schema
- [x] Create API routes for mentoria inscription
- [x] Create API routes for file upload/download (S3)
- [x] Integrate frontend form with backend API
- [x] Create file upload API routes
- [x] Write vitest tests for new API routes
- [x] Save checkpoint and deliver to user
- [x] Rate limiting (proteção contra brute force e DDoS)
- [x] Input sanitization e validação com Zod em todas as rotas
- [x] CSRF protection
- [x] XSS protection (Content Security Policy headers)
- [x] SQL injection prevention (parameterized queries via Drizzle ORM)
- [x] Helmet.js security headers
- [x] CORS configuration restritiva
- [x] File upload validation (tipo, tamanho, extensão)
- [x] Request size limiting
- [x] Logging de segurança (audit trail)
- [x] Proteção contra path traversal em uploads
- [x] Honeypot anti-bot no formulário
- [x] Fix: Navbar com fundo ciano/turquesa — conflito de cores CSS com template padrão
- [x] Fix: Corrigir conflito de cores CSS na navbar (fundo ciano/turquesa)
- [x] Criar CONTEXT.md com informações completas do site, segurança e arquitetura para IA
- [x] Criar README.md profissional do projeto
- [x] Banner de consentimento de cookies (LGPD)
- [x] Página de Política de Privacidade
- [x] Página de Termos de Uso
- [x] Página de Política de Cookies
- [x] Consentimento LGPD no formulário de inscrição
- [x] Chatbot flutuante com IA integrada ao contexto P.A.G.O.
- [x] Links legais no Footer
- [x] Criar CONTEXT.md com informações completas do site
- [x] Criar README.md profissional do projeto
- [x] Logo para fundo escuro (versão branca/dourada)
- [x] Logo ícone/símbolo compacto
- [x] Favicon (16x16, 32x32, 192x192)
- [x] Logo para redes sociais (versão quadrada)
- [x] Integrar todas as variações no site
- [x] Painel Admin: Rotas de API para listar, filtrar, atualizar e exportar inscrições
- [x] Painel Admin: Dashboard com métricas (total inscrições, por status, por período)
- [x] Painel Admin: Listagem de inscrições com filtros e busca
- [x] Painel Admin: Detalhes de inscrição individual com ações (aprovar, rejeitar, contatar)
- [x] Painel Admin: Exportação de dados (CSV)
- [x] Painel Admin: Proteção de acesso por role (admin only)
- [x] Painel Admin: Integração com DashboardLayout
- [x] Painel Admin: Testes vitest para rotas admin (19 testes passando)
- [x] Fix: Links de Privacidade, Termos e Cookies ausentes no rodapé (Footer)
- [x] Fix: Navbar com fundo ciano/turquesa — corrigir conflito de cores CSS após upgrade web-db-user (substituído oklch por hex)
- [x] Fix: Pilar "Princípio" (P) ausente nos cartões de resumo da seção Jefferson
- [x] Efeito flip 3D nos cartões P.A.G.O. da seção Jefferson (hover revela descrição)
- [x] Skill reutilizável editorial-landing-platform criada em skills/ (sincronizada com GitHub)
- [x] Skill: Adicionar references/ui-components.md com snippets de Navbar, Footer e Flip Cards
- [x] Painel Admin: Página de Analytics/Monitoramento com KPIs de tráfego, gráfico de tendência, e cards de breakdown (Page Traffic, País, OS, Referrer, Dispositivos)
- [x] Ebook: Gerar capa profissional editorial
- [x] Ebook: Gerar imagens de separadores de capítulo (P, A, G, O)
- [x] Ebook: Expandir conteúdo com P.A.O. (Princípio, Alinhamento, Obediência)
- [x] Ebook: Inserir versículos bíblicos destacados e fotos
- [x] Ebook: Gerar PDF profissional com design editorial
- [x] Fix: Atualizar texto sobre Jefferson — ele é Legendário e embaixador dos Legendários (não líder)
- [x] Substituir imagens de monge/padre no ebook e landing page por imagens mais adequadas ao contexto de mentoria espiritual/empresarial
- [x] Criar versão flipbook HTML5 interativa do ebook com efeito de virar páginas
- [x] Gerar ebook em formato EPUB (Apple Books) e MOBI (Kindle)
- [x] Fix: Corrigir páginas cortadas, imagens faltando e formatação perdida no EPUB
- [x] Fix: Corrigir paginação no PDF para evitar cortes de conteúdo
- [x] Fix: Regenerar flipbook com PDF corrigido
- [x] Fix: Regenerar MOBI com EPUB corrigido
- [x] Fix: Capa do PDF não preenche página inteira (faixa branca na parte inferior)
- [x] Fix: Páginas vazias/quase vazias no PDF e flipbook (ex: página 21)
- [x] Fix: Regenerar flipbook com PDF corrigido
- [x] Gerar PDF de alta qualidade para gráfica (300 DPI, bleed, marcas de corte)
- [x] Criar subpágina Downloads no admin (PDF, EPUB, MOBI, flipbook HTML5)
- [x] Criar subpágina Repositório de Mídia no admin (imagens, logos, favicon)
- [x] Fix: Usar imagem de capa real (ebook-cover.png) como background full-page no PDF
- [x] Fix: Blocos de conteúdo cortados entre páginas (ex: VIDA FAMILIAR cortado do título)
- [x] Fix: Parágrafos cortados no meio entre páginas
- [x] Fix: Regenerar todos os formatos (flipbook, EPUB, MOBI) com PDF corrigido
- [x] Fix: Usar imagem de capa real (ebook-cover.png) como background full-page no PDF
- [x] Adicionar contra-capa/verso profissional no final do ebook
- [x] Fix: Blocos cortados entre páginas (exercícios, áreas de vida)
- [ ] Fix: Logos não carregando na página Mídia do admin
- [x] Flipbook em formato livro aberto (duas páginas lado a lado)
- [ ] Fix: Logos e imagens com URLs expiradas (403) na página Mídia do admin
- [x] Adicionar primeira versão do ebook (PAGO-Ebook-completo) na página de Downloads
- [x] CRITICAL: Corrigir quebras de página - cards/exercícios/citações/áreas da vida NÃO podem ser cortados
- [x] CRITICAL: page-break-inside: avoid em TODOS os blocos de conteúdo
- [x] CRITICAL: PDF full-page sem margens brancas em nenhuma página
- [x] Regenerar flipbook com imagens do novo PDF sem margens
- [x] Regenerar EPUB e MOBI com formatação corrigida
- [x] Upload de todos os formatos para CDN e atualizar admin Downloads
- [x] Exportar conteúdo completo do ebook em formato Markdown (.md) para diagramação externa
- [x] Pesquisar Criart IA (criart.ia.br) como ferramenta de diagramação de ebook
- [x] Comparar ferramentas: Typeset vs Canva vs Criart IA vs outras
- [x] Traduzir ebook completo para espanhol
- [x] Gerar PDF v1 (com capa) em espanhol
- [x] Gerar PDF v2 (editorial) em espanhol
- [ ] Criar HTML editorial em espanhol (ES) para flipbook
- [ ] Gerar imagens do flipbook ES e upload para CDN
- [x] Implementar sistema de internacionalização (i18n) no site - PT, EN, ES
- [x] Criar arquivos de tradução com todo o conteúdo do site em PT, EN e ES
- [x] Implementar contexto de idioma e seletor de idioma no site
- [x] Aplicar traduções em todas as páginas públicas e componentes do site (10 componentes)
- [x] Testes vitest para i18n (15 testes — chaves, valores, consistência entre idiomas)
- [x] Ebook P.A.G.O. Kids: Planejar estrutura (capítulos, atividades, faixa etária)
- [x] Ebook P.A.G.O. Kids: Escrever conteúdo completo em português (903 linhas, 6.284 palavras)
- [x] Ebook P.A.G.O. Kids: Traduzir para espanhol (554 linhas, 4.027 palavras)
- [x] Ebook P.A.G.O. Kids: Gerar ilustrações infantis (8 ilustrações Nano Banana)
- [x] Ebook P.A.G.O. Kids: Gerar PDFs (PT e ES) — PDF editorial 39 páginas + PDFs Markdown
- [x] Instagram: Criar 10 posts para P.A.G.O. (imagens + legendas)
- [x] Instagram: Criar 10 posts para P.A.G.O. Kids (imagens + legendas)
- [x] Criar seção P.A.G.O. Kids na landing page pública com ilustrações e CTA para download
- [x] Criar página Admin "P.A.G.O. Kids" para gerenciar conteúdo da seção Kids
- [x] Adicionar traduções i18n (PT, EN, ES) para a nova seção Kids
- [x] Integrar navegação da nova página Admin no DashboardLayout
- [x] Fix: Página de Análises (Analytics) não carrega dados — substituída por página informativa com link para painel Umami
- [x] SEO: Corrigir título da página (21 chars → 52 chars: "P.A.G.O. — Sistema de Reorganização de Vida | Novo Tempo")
- [x] SEO: Adicionar palavras-chave (meta keywords) — 14 termos relevantes
- [x] SEO: Corrigir 4 imagens sem texto alternativo (alt) — hero bg, CTA bg, kids builders, kids house
- [x] Fix: Erros TypeScript em Markdown.tsx (plugins prop), AIChatBox.tsx (UIMessagePart generics, mode prop), ComponentShowcase.tsx (height prop) — 0 erros TS
- [x] Fix: Analytics 401 Unauthorized — página reescrita sem chamadas à API Umami, com link direto ao painel
- [x] Atualizar página Analytics: removidas chamadas com erro 401, página informativa com link para painel Umami
- [x] Remover página de Análises (Analytics) do admin — página, rota, link na sidebar e rotas backend removidos
- [x] Substituir PDF do P.A.G.O. Kids pelo novo PDF enviado pelo usuário (P.A.G.O. Kids - Uma Aventura de Fé) — 14 MB, 12 págs
- [x] Criar tabela 'downloads' no banco de dados (slug, título, descrição, formato, tamanho, URL S3, categoria, badge, ordem, ativo)
- [x] Criar procedures tRPC para CRUD de downloads (listar, criar, editar, excluir, reordenar)
- [x] Criar endpoint de upload de arquivos para S3 no backend (uploadAndCreate + replaceFile)
- [x] Reescrever página AdminDownloads com gerenciamento completo: upload, edição, exclusão, reordenação
- [x] Atualizar rota /api/downloads/:slug para buscar do banco ao invés de hardcoded
- [x] KidsSection e KitSection já usam /api/downloads/:slug que agora busca do banco
- [x] Migrar downloads hardcoded existentes para o banco de dados (7 ebooks + 1 kids)
- [x] Adicionar certificado P.A.G.O. Kids (PNG) como download na categoria kids — "Pequeno Construtor de Deus" 174 KB
- [x] Adicionar link de download do certificado na seção Kids da landing page pública (com i18n PT/EN/ES)
- [x] Substituir PDF do ebook Kids pelo novo PAGO-Kids-Ebook-Final.pdf (23 MB, 19 págs) e corrigir número de páginas na landing page (39→19 em PT/EN/ES)
- [x] Integrar flipbook P.A.G.O. Kids no botão "Ver Prévia" da seção Kids — abre em nova aba com flipbook interativo (page-flip + 12 imagens CDN)
